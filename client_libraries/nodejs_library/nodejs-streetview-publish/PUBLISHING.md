= PUBLISHING

Note: This folder has been generated by the api-packager tool.

The instructions assumes that no changes have been made to folder and its
contents since it was created.

== PREREQUISITES

- [npm][] must be installed

== TO TEST

- Make sure that the packages.json file doesn't have a dependency on
  google-proto-files.
- In addition, update the lines like the following in street_view_publish_service_client.js

  ```javascript
    var streetViewPublishServiceClient = require('grpc-google-streetview-publish-v1').client;
    extend(this, streetViewPublishServiceClient.google.streetview.publish.v1);
  ```

  to be

  ```javascript
    var streetViewPublishServiceClient = gaxGrpc.load([{
      root: require('path').join(__dirname, '..', '..', 'proto'),
      file: 'google/streetview/publish/v1/streetview_publish.proto'
    }]);
    extend(this, streetViewPublishServiceClient.google.streetview.publish.v1);
  ```
- Make sure that the proto folder has been updated with a manual copy with the
  latest protos.
- Install the package locally by typing `npm install` in this directory.
- Run `node ../sanity\_test.js`.

== TO PUBLISH

- Make sure you have a npm account as described in [Publishing npm packages][].
- [Publish][] the package, using `npm publish`

[npm]: https://docs.npmjs.com/getting-started/what-is-npm
[Publishing npm packages]: https://docs.npmjs.com/getting-started/publishing-npm-packages#creating-a-user
